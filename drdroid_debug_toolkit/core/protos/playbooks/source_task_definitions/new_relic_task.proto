syntax = "proto3";
package core.protos.playbooks;

import "google/protobuf/wrappers.proto";


message NewRelic {
  message EntityApplicationGoldenMetricExecutionTask {
    google.protobuf.StringValue application_entity_guid = 1;
    google.protobuf.StringValue application_entity_name = 2;
    google.protobuf.StringValue golden_metric_name = 3;
    google.protobuf.StringValue golden_metric_unit = 4;
    google.protobuf.StringValue golden_metric_nrql_expression = 5;
    repeated uint32 timeseries_offsets = 6;
  }

  message EntityApplicationAPMMetricExecutionTask {
    google.protobuf.StringValue application_entity_guid = 1;
    google.protobuf.StringValue application_entity_name = 2;
    google.protobuf.StringValue apm_metric_name = 3;
    google.protobuf.StringValue apm_metric_unit = 4;
    google.protobuf.StringValue apm_metric_nrql_expression = 5;
    repeated uint32 timeseries_offsets = 6;
    google.protobuf.StringValue apm_metric_names = 7;
  }

  message EntityApplicationAPMDatabaseSummaryTask {
    google.protobuf.StringValue application_entity_guid = 1;
    google.protobuf.StringValue application_entity_name = 2;
    google.protobuf.StringValue sort_by = 3;
    repeated uint32 timeseries_offsets = 4;
  }

  message EntityApplicationAPMTransactionSummaryTask {
    google.protobuf.StringValue application_entity_guid = 1;
    google.protobuf.StringValue application_entity_name = 2;
    google.protobuf.StringValue sort_by = 3;
    repeated uint32 timeseries_offsets = 4;
  }

  message EntityDashboardWidgetNRQLMetricExecutionTask {
    google.protobuf.StringValue dashboard_guid = 1;
    google.protobuf.StringValue dashboard_name = 2;
    google.protobuf.StringValue page_guid = 3;
    google.protobuf.StringValue page_name = 4;
    google.protobuf.StringValue widget_id = 5;
    google.protobuf.StringValue widget_title = 6;
    google.protobuf.StringValue widget_type = 7;
    google.protobuf.StringValue widget_nrql_expression = 8;
    google.protobuf.StringValue unit = 9;
    repeated uint32 timeseries_offsets = 10;
  }

  message DashboardWidgetByIdTask {
    google.protobuf.StringValue dashboard_name = 1;
    google.protobuf.StringValue widget_id = 2;
    google.protobuf.StringValue unit = 3;
    repeated uint32 timeseries_offsets = 4;
  }

  message NRQLMetricExecutionTask {
    google.protobuf.StringValue metric_name = 1;
    google.protobuf.StringValue nrql_expression = 2;
    google.protobuf.StringValue unit = 3;
    repeated uint32 timeseries_offsets = 4;
  }

  message FetchDashboardWidgetsTask {
    google.protobuf.StringValue dashboard_name = 1;
    google.protobuf.StringValue page_name = 2;
    google.protobuf.StringValue widget_names = 3;
    google.protobuf.StringValue unit = 4;
    repeated uint32 timeseries_offsets = 5;
  }

  message GetDashboardVariableValuesTask {
    google.protobuf.StringValue dashboard_guid = 1;
    google.protobuf.StringValue variable_name = 2;
  }

  message ExecuteDashboardWidgetsWithVariablesTask {
    google.protobuf.StringValue dashboard_name = 1;
    google.protobuf.StringValue page_name = 2;
    google.protobuf.StringValue widget_names = 3;
    google.protobuf.StringValue template_variables = 4;
  }

  enum TaskType {
    UNKNOWN = 0;
    ENTITY_APPLICATION_GOLDEN_METRIC_EXECUTION = 1;
    ENTITY_DASHBOARD_WIDGET_NRQL_METRIC_EXECUTION = 2;
    NRQL_METRIC_EXECUTION = 3;
    DASHBOARD_MULTIPLE_WIDGETS = 4;
    ENTITY_APPLICATION_APM_METRIC_EXECUTION = 5;
    FETCH_DASHBOARD_WIDGETS = 6;
    ENTITY_APPLICATION_APM_DATABASE_SUMMARY = 7;
    ENTITY_APPLICATION_APM_TRANSACTION_SUMMARY = 8;
    GET_DASHBOARD_VARIABLE_VALUES = 9;
    EXECUTE_DASHBOARD_WIDGETS_WITH_VARIABLES = 10;
  }

  TaskType type = 1;
  oneof task {
    EntityApplicationGoldenMetricExecutionTask entity_application_golden_metric_execution = 2;
    EntityDashboardWidgetNRQLMetricExecutionTask entity_dashboard_widget_nrql_metric_execution = 3;
    NRQLMetricExecutionTask nrql_metric_execution = 4;
    DashboardWidgetByIdTask dashboard_multiple_widgets = 5;
    EntityApplicationAPMMetricExecutionTask entity_application_apm_metric_execution = 6;
    FetchDashboardWidgetsTask fetch_dashboard_widgets = 7;
    EntityApplicationAPMDatabaseSummaryTask entity_application_apm_database_summary = 8;
    EntityApplicationAPMTransactionSummaryTask entity_application_apm_transaction_summary = 9;
    GetDashboardVariableValuesTask get_dashboard_variable_values = 10;
    ExecuteDashboardWidgetsWithVariablesTask execute_dashboard_widgets_with_variables = 11;
  }
}

