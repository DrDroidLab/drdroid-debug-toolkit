syntax = "proto3";

package core.protos;

import "google/protobuf/wrappers.proto";
import "google/protobuf/struct.proto";

message Service {
  google.protobuf.UInt64Value id = 1;
  google.protobuf.StringValue service_name = 2;
  google.protobuf.StringValue owner = 3;
  repeated google.protobuf.StringValue downstream_services = 4;
  repeated google.protobuf.StringValue upstream_services = 5;
  google.protobuf.StringValue repository = 6;
  google.protobuf.StringValue description = 7;
  google.protobuf.StringValue source = 8;
  repeated google.protobuf.StringValue tools = 9;
  google.protobuf.StringValue framework = 10;
  google.protobuf.Struct metadata = 11;
}

message ServiceCatalog {
  repeated Service entries = 1;
}

message Infrastructure {
  google.protobuf.UInt64Value id = 1;
  google.protobuf.StringValue name = 2;
  google.protobuf.StringValue type = 3;
  google.protobuf.StringValue owner = 4;
  repeated google.protobuf.StringValue services = 5;
  google.protobuf.StringValue provider = 6;
  repeated google.protobuf.StringValue tools = 7;
  google.protobuf.Struct configuration = 8;
  repeated google.protobuf.StringValue components = 9;
  google.protobuf.StringValue description = 10;
}

message InfrastructureCatalog {
  repeated Infrastructure entries = 1;
}

message Integration {
  google.protobuf.UInt64Value id = 1;
  google.protobuf.StringValue name = 2;
  google.protobuf.StringValue description = 3;
  repeated google.protobuf.StringValue related_services = 4;
  repeated google.protobuf.StringValue related_infrastructure = 5;
  google.protobuf.StringValue source = 6;
}

message IntegrationCatalog {
  repeated Integration entries = 1;
}

message OrgAccountContext {
  enum Type {
    UNKNOWN = 0;
    SERVICE = 1;
    INFRASTRUCTURE = 2;
    INTEGRATION = 3;
    ARCHITECTURE = 5;
  }
  google.protobuf.UInt64Value id = 1;
  Type type = 2;
  google.protobuf.StringValue name = 3;
  oneof context {
    Service service = 101;
    Infrastructure infrastructure = 102;
    Integration integration = 103;
    google.protobuf.Struct architecture = 104;
  }
}